<html>
<head>
<title>MathJax Previewer</title>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$'], ["\\(","\\)"]],
      processEscapes: true
    },
    "CommonHTML": {
      styles: {".MathJax_Preview": {visibility: "hidden"}}
    },
    "HTML-CSS": {
      styles: {".MathJax_Preview": {visibility: "hidden"}}
    },
    "SVG": {
      styles: {".MathJax_Preview": {visibility: "hidden"}}
    },
    "NativeMML": {
      styles: {".MathJax_Preview": {visibility: "hidden"}}
    },
	TeX: { extensions: ["https://genkuroki.github.io/xypic.js"] }
  });
</script>
<script type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML">
</script>
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
<script type="text/javascript" src="jquery-1.5.1.min.js"></script>
<script type="text/javascript">
$(function() {
  function makePreview() {
//    input = $('#input').val().replace(/</g, "&lt;").replace(/>/g, "&gt;");
    input = $('#input').val().replace(/\r\n/g, "<br>").replace(/\r/g, "<br>").replace(/\n/g, "<br>")
    $('#preview').html(input);
    MathJax.Hub.Queue(["Typeset",MathJax.Hub,"preview"]);
  }
  $('body').keyup(function(){makePreview()});
  $('body').bind('updated',function(){makePreview()});
  makePreview();
});
</script>
</head>
<body>

<h1>MathJax Previewer</h1>

<h2>Input</h2>

<p>Examples: <code>$\varphi_i$</code>, <code>\(\dfrac12\)</code>, <code>\[\sum_{n=1}^\infty x^n\]</code></p>

<p><textarea id="input" name="body" cols="60" rows="10">\begin{xy}
\xymatrix {
U \ar@/_/[ddr]_y \ar@{.>}[dr]|{\langle x,y \rangle} \ar@/^/[drr]^x \\
 & X \times_Z Y \ar[d]^q \ar[r]_p & X \ar[d]_f \\
 & Y \ar[r]^g & Z
}
\end{xy}
</textarea></p>

<h2>Preview Area</h2>

<div id="preview" style="width:30em"></div>

</body>
</html>
